<!DOCTYPE html>
<html>
    <body>
        <canvas id="game" width="400" height="400" style="border:1px solid #000000;"></canvas>

        <img width="20" alt="golem" title="golem" src="https://cdn.discordapp.com/attachments/545317396919877635/601936859626733598/unknown.png"></img>
        <img width="20" alt="golem" title="golem" src="https://cdn.discordapp.com/attachments/545317396919877635/601936859626733598/unknown.png"></img>
        <img width="20" src="https://cdna.artstation.com/p/assets/images/images/006/295/124/large/sergiu-matei-grass-tile-pixel-art-rpg-top-view-indie-game-dev-matei-sergiu.jpg?1497472728"></img>
        <img width="20" src="http://pixelartmaker.com/art/5951a04864c3c7b.png"</img>
        <img width="20" src="data:image/png;base64,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"></img>
        <img width="20" height="20" src="https://rsknowledge.files.wordpress.com/2010/10/normal_tree1.png"</img>

        <script>
            function displayWorld(world) {
                let c = document.getElementById("game");
                let ctx = c.getContext('2d');
                let width = c.width;
                let height = c.height;
                let x = 0;
                let y = 0;

                let imgGuy = new Image;
                let imgBunny = new Image;
                let imgTree = new Image;

                imgBunny.src ="data:image/png;base64,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";
                imgGuy.src ="https://cdn.discordapp.com/attachments/545317396919877635/601936859626733598/unknown.png";
                imgTree.src="https://rsknowledge.files.wordpress.com/2010/10/normal_tree1.png";
                // TODO draw bunny and guy
                /* TODO render trees properly, look in all the trees and draw them. Make it not draw on water tiles,
                 *  render tree in root page, only tree if not water. fix guy image, remove green background cause
                 *  transparent. Render the tiles instead of using colors. #136d15 better green. Unless i like it.
                 */

                let guy = {{{guy}}};
                let trees = {{{trees}}};
                let bunny = {{{bunny}}};

                // Fills tiles with green and blue
                for (let i = 0; i < width/20; i++) {
                    for (let j = 0; j < width/20; j++) {
                        if (world[i][j] == 'D') {
                            ctx.fillStyle = "#00FF00";
                        } else if (world[i][j] == 'W') {
                            ctx.fillStyle = "#0066FF";
                        }
                        ctx.fillRect(j * 20, i * 20, 20, 20);
                    }
                    x = 0;
                }

                // Have an ARRAY of GUYS
                /*
                // draw guy
                for (let i = 0; i < width/20; i++) {
                    for (let j = 0; j < width/20; j++) {
                        if (guy.x == (j * 20) && guy.y == (i * 20)) {
                            ctx.drawImage(imgGuy, guy.x * 20, guy.y * 20, 20, 20);
                        }
                    }
                }
                */

                // draw objects
                for (let i = 0; i < trees.length; ++i) {
                    let tree = trees[i];
                    ctx.drawImage(imgTree, tree.x * 20, tree.y * 20, 20, 20);
                }

                // i cant believe i figured out how to do this so fast.heehee. ; /
                // Draws grid pattern.
                y = 20;
                x = 20;
                while (y != width) {
                    ctx.beginPath();
                    ctx.moveTo(x, 0);
                    ctx.lineTo(x, height);
                    ctx.stroke();
                    x += 20;
                    ctx.beginPath();
                    ctx.moveTo(0, y);
                    ctx.lineTo(width, y);
                    ctx.stroke();
                    y += 20;
                }
            }

            let world = {{{gameWorld}}};
            console.log(world)

            displayWorld(world);
        </script>
    </body>

</html>
